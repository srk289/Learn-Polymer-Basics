<link rel="import" href="../bower_components/polymer/polymer.html">
<dom-module name="hello-element">	
	<template>
		
	</template>
</dom-module>
<script>
	Polymer({
		is: "hello-element",
		properties: {
			messages: {
				type: Array,
				value: function(){
					return [{
						text: 'Loading Messages'
					},
					{
						text: 'Messages Loaded'
					}]
				}
			}
		},
		observers: [
			'messagesAddedorRemoved(messages.splices)'
		],
		messagesAddedorRemoved: function(changeRecord){
			// Step 2: As soon as messages array was changed this function is triggered
			// Step 5:
			console.log('change Record', changeRecord);
			//changeRecord has the information of the spliced elements from the message array. 
		},
		ready: function	(){
			this.splice('messages', 1, 1); // Step 1: as array is changed messagesAddedorRemoved function is triggered.

			// Step 3
			console.log('after splicing', this.messages);


			this.push('messages', {text: 'Message Added'}, {text: 'Message Added'}); // Step 4: Array has changed again. So messagesAddedorRemoved is triggered again. (ref Step 5)

			// Step 6
			console.log('after adding new messages', this.messages);
		}

	});
</script>